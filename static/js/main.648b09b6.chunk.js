(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{188:function(e,t,a){e.exports=a(206)},195:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(70),o=a.n(l),c=(a(195),a(13)),d=a(3),i=a(71),s=a(72),m=a(7);const p=Object(i.a)({apiKey:"AIzaSyCC-1oE91QltMebUa4w-XEec2Msu_8mmkw",authDomain:"clinic-managment-30930.firebaseapp.com",projectId:"clinic-managment-30930",storageBucket:"clinic-managment-30930.appspot.com",messagingSenderId:"948906151606",appId:"1:948906151606:web:ddd569380f1b17b1abe017",measurementId:"G-YYFWWK0QLS"}),u=(Object(s.a)(p),Object(m.f)(p));var g=a(21);a(203);var h=e=>{let{patients:t}=e;const[a,l]=Object(n.useState)({name:"",date:"",referredBy:"",amount:"",paymentMode:"",gender:"",age:"",address:""}),o=e=>{const{name:t,value:n}=e.target;l({...a,[t]:n})},c=t.filter(e=>(!a.name||e.name.toLowerCase().includes(a.name.toLowerCase()))&&(!a.date||e.date===a.date)&&(!a.referredBy||e.referredBy.toLowerCase().includes(a.referredBy.toLowerCase()))&&(!a.amount||e.amount.toString()===a.amount)&&(!a.paymentMode||e.paymentMode.toLowerCase().includes(a.paymentMode.toLowerCase()))&&(!a.gender||e.gender.toLowerCase().includes(a.gender.toLowerCase()))&&(!a.age||e.age.toString()===a.age)&&(!a.address||e.address.toLowerCase().includes(a.address.toLowerCase()))),d=r.a.useMemo(()=>[{Header:"Name",accessor:"name"},{Header:"Age",accessor:"age"},{Header:"Gender",accessor:"gender"},{Header:"Address",accessor:"address"},{Header:"Referred By",accessor:"referredBy"},{Header:"Date",accessor:"date"},{Header:"Valid Until",accessor:"validityDate"},{Header:"Payment Mode",accessor:"paymentMode"},{Header:"Amount",accessor:"amount"}],[]),i=r.a.useMemo(()=>c,[c]),{getTableProps:s,getTableBodyProps:m,headerGroups:p,rows:u,prepareRow:h}=Object(g.useTable)({columns:d,data:i});return r.a.createElement("div",{className:"search-container"},r.a.createElement("h1",null,"Search Patients"),r.a.createElement("form",{className:"search-form"},r.a.createElement("input",{type:"text",name:"name",placeholder:"Search by Name",value:a.name,onChange:o}),r.a.createElement("input",{type:"date",name:"date",placeholder:"dd/mm/yyyy",value:a.date,onChange:o}),r.a.createElement("input",{type:"text",name:"referredBy",placeholder:"Search by Referred By",value:a.referredBy,onChange:o}),r.a.createElement("input",{type:"text",name:"amount",placeholder:"Search by Amount",value:a.amount,onChange:o}),r.a.createElement("input",{type:"text",name:"paymentMode",placeholder:"Search by Amount Type",value:a.paymentMode,onChange:o}),r.a.createElement("input",{type:"text",name:"gender",placeholder:"Search by Sex",value:a.gender,onChange:o}),r.a.createElement("input",{type:"text",name:"age",placeholder:"Search by Age",value:a.age,onChange:o}),r.a.createElement("input",{type:"text",name:"address",placeholder:"Search by Address",value:a.address,onChange:o})),r.a.createElement("div",{className:"search-results"},r.a.createElement("div",{className:"table-container"},r.a.createElement("table",Object.assign({},s(),{className:"table"}),r.a.createElement("thead",null,p.map(e=>r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map(e=>r.a.createElement("th",e.getHeaderProps(),e.render("Header")))))),r.a.createElement("tbody",m(),u.map(e=>(h(e),r.a.createElement("tr",e.getRowProps(),e.cells.map(e=>r.a.createElement("td",e.getCellProps(),e.render("Cell")))))))))))},v=a(4);a(204);var y=()=>{const[e,t]=Object(n.useState)([]),[a,l]=Object(n.useState)(0),[o,c]=Object(n.useState)(0),[d,i]=Object(n.useState)(0),[s,p]=Object(n.useState)("Month");Object(n.useEffect)(()=>{g()},[]);const g=async()=>{try{const a=(await Object(m.e)(Object(m.b)(u,"patients"))).docs.map(e=>({id:e.id,...e.data()}));a.sort((e,t)=>new Date(e.date)-new Date(t.date)),console.log("Fetched patients data: ",a),t(a),h(a)}catch(e){console.error("Error fetching patients: ",e)}},h=e=>{const t=(new Date).toISOString().split("T")[0],a=(new Date).toISOString().slice(0,7),n=(new Date).getFullYear(),r=e.filter(e=>e.date===t).reduce((e,t)=>e+Number(t.amount),0),o=e.filter(e=>e.date.startsWith(a)).reduce((e,t)=>e+Number(t.amount),0),d=e.filter(e=>new Date(e.date).getFullYear()===n).reduce((e,t)=>e+Number(t.amount),0);c(r),l(o),i(d)};Object(n.useEffect)(()=>{e.length>0&&(console.log("Patients data for charting: ",e),y())},[e,s]);const y=()=>{v.p("svg").remove(),E(),b(),f(),w(),x(),C(),M()},E=()=>{const t=v.i(e,e=>v.q(e,e=>e.amount),e=>v.u(new Date(e.date))),a=Array.from(t).sort((e,t)=>e[0]-t[0]),n=v.o("#monthlyRevenueChart").append("svg").attr("width","100%").attr("height",400).attr("viewBox","0 0 ".concat(800," ").concat(400)).attr("preserveAspectRatio","xMidYMid meet"),r=v.m().domain(v.d(a,e=>e[0])).range([50,750]),l=v.k().domain([0,v.g(a,e=>e[1])]).range([350,50]),o=v.f().x(e=>r(e[0])).y(e=>l(e[1]));n.append("path").datum(a).attr("fill","none").attr("stroke","purple").attr("stroke-width",2).attr("d",o),n.append("g").attr("transform","translate(0,".concat(350,")")).call(v.b(r).ticks(v.u.every(1))),n.append("g").attr("transform","translate(50,0)").call(v.c(l)),n.append("text").attr("x",400).attr("y",20).attr("text-anchor","middle").style("font-size","16px").style("font-weight","bold").text("Monthly Revenue / Number of Patients")},b=()=>{const t=v.i(e,e=>e.length,e=>e.gender),a=Math.min(400,400)/2-15,n=v.l().domain(t.keys()).range(["#007bff","#ff69b4","#ff0000"]),r=v.o("#genderPieChart").append("svg").attr("width","100%").attr("height",400).attr("viewBox","0 0 ".concat(400," ").concat(400)).attr("preserveAspectRatio","xMidYMid meet").append("g").attr("transform","translate(".concat(200,",").concat(200,")")),l=v.h().value(e=>e[1]),o=v.a().innerRadius(0).outerRadius(a);r.selectAll("path").data(l([...t])).enter().append("path").attr("d",o).attr("fill",e=>n(e.data[0])).on("mouseover",function(e,t){v.o(this).transition().duration(200).attr("d",v.a().innerRadius(0).outerRadius(a+5)),r.append("text").attr("class","hover-text").attr("text-anchor","middle").attr("dy",".35em").text(t.data[1])}).on("mouseout",function(e,t){v.o(this).transition().duration(200).attr("d",o),r.selectAll(".hover-text").remove()});const c=r.append("g").attr("transform","translate(".concat(140,",").concat(-190,")"));c.selectAll("rect").data(n.domain()).enter().append("rect").attr("x",0).attr("y",(e,t)=>20*t).attr("width",18).attr("height",18).style("fill",n),c.selectAll("text").data(n.domain()).enter().append("text").attr("x",24).attr("y",(e,t)=>20*t+9).attr("dy",".35em").text(e=>e)},f=()=>{const t=v.i(e,e=>e.length,e=>e.paymentMode),a=Math.min(400,400)/2-15,n=v.l().domain(t.keys()).range(v.n),r=v.o("#paymentModePieChart").append("svg").attr("width","100%").attr("height",400).attr("viewBox","0 0 ".concat(400," ").concat(400)).attr("preserveAspectRatio","xMidYMid meet").append("g").attr("transform","translate(".concat(200,",").concat(200,")")),l=v.h().value(e=>e[1]),o=v.a().innerRadius(0).outerRadius(a);r.selectAll("path").data(l([...t])).enter().append("path").attr("d",o).attr("fill",e=>n(e.data[0])).on("mouseover",function(e,t){v.o(this).transition().duration(200).attr("d",v.a().innerRadius(0).outerRadius(a+10)),r.append("text").attr("class","hover-text").attr("text-anchor","middle").attr("dy",".35em").text(t.data[1])}).on("mouseout",function(e,t){v.o(this).transition().duration(200).attr("d",o),r.selectAll(".hover-text").remove()});const c=r.append("g").attr("transform","translate(".concat(140,",").concat(-190,")"));c.selectAll("rect").data(n.domain()).enter().append("rect").attr("x",0).attr("y",(e,t)=>20*t).attr("width",18).attr("height",18).style("fill",n),c.selectAll("text").data(n.domain()).enter().append("text").attr("x",24).attr("y",(e,t)=>20*t+9).attr("dy",".35em").text(e=>e)},w=()=>{const t=[...v.i(e,e=>e.length,e=>e.referredBy)].sort((e,t)=>t[1]-e[1]).slice(0,3),a=v.o("#topReferredByChart").append("svg").attr("width","100%").attr("height",400).attr("viewBox","0 0 ".concat(400," ").concat(400)).attr("preserveAspectRatio","xMidYMid meet"),n=v.j().domain(t.map(e=>e[0])).range([50,350]).padding(.1),r=v.k().domain([0,v.g(t,e=>e[1])]).range([350,50]);a.selectAll(".bar").data(t).enter().append("rect").attr("class","bar").attr("x",e=>n(e[0])).attr("y",e=>r(e[1])).attr("width",n.bandwidth()).attr("height",e=>350-r(e[1])).attr("fill","green"),a.append("g").attr("transform","translate(0,".concat(350,")")).call(v.b(n)),a.append("g").attr("transform","translate(50,0)").call(v.c(r))},x=()=>{const t=[...v.i(e,e=>e.length,e=>e.address)].sort((e,t)=>t[1]-e[1]).slice(0,5),a=v.o("#topAddressesChart").append("svg").attr("width","100%").attr("height",400).attr("viewBox","0 0 ".concat(400," ").concat(400)).attr("preserveAspectRatio","xMidYMid meet"),n=v.j().domain(t.map(e=>e[0])).range([50,350]).padding(.1),r=v.k().domain([0,v.g(t,e=>e[1])]).range([350,50]);a.selectAll(".bar").data(t).enter().append("rect").attr("class","bar").attr("x",e=>n(e[0])).attr("y",e=>r(e[1])).attr("width",n.bandwidth()).attr("height",e=>350-r(e[1])).attr("fill","blue"),a.append("g").attr("transform","translate(0,".concat(350,")")).call(v.b(n)),a.append("g").attr("transform","translate(50,0)").call(v.c(r))},C=()=>{const t=e.map(e=>e.age).filter(e=>void 0!==e&&null!==e&&!isNaN(e));if(0===t.length)return void console.log("No valid age data to plot.");const a=v.o("#ageDistributionHistogram").append("svg").attr("width","100%").attr("height",400).attr("viewBox","0 0 ".concat(800," ").concat(400)).attr("preserveAspectRatio","xMidYMid meet"),n=v.k().domain([0,v.g(t)]).range([50,750]),r=v.e().domain(n.domain()).thresholds(n.ticks(20))(t),l=v.k().domain([0,v.g(r,e=>e.length)]).range([350,50]);a.selectAll(".bar").data(r).enter().append("rect").attr("class","bar").attr("x",e=>n(e.x0)).attr("y",e=>l(e.length)).attr("width",e=>n(e.x1)-n(e.x0)-1).attr("height",e=>350-l(e.length)).attr("fill","orange"),a.append("g").attr("transform","translate(0,".concat(350,")")).call(v.b(n)),a.append("g").attr("transform","translate(50,0)").call(v.c(l)),a.append("text").attr("x",400).attr("y",20).attr("text-anchor","middle").style("font-size","16px").style("font-weight","bold").text("Age Distribution")},M=()=>{"Month"===s?A():D()},A=()=>{const t=v.i(e,e=>e.length,e=>v.u(new Date(e.date))),a=Array.from(t).sort((e,t)=>e[0]-t[0]),n=v.o("#patientsPerMonthChart").append("svg").attr("width","100%").attr("height",400).attr("viewBox","0 0 ".concat(800," ").concat(400)).attr("preserveAspectRatio","xMidYMid meet"),r=v.j().domain(a.map(e=>e[0])).range([50,750]).padding(.1),l=v.k().domain([0,v.g(a,e=>e[1])]).range([350,50]);n.selectAll(".bar").data(a).enter().append("rect").attr("class","bar").attr("x",e=>r(e[0])).attr("y",e=>l(e[1])).attr("width",r.bandwidth()).attr("height",e=>350-l(e[1])).attr("fill","blue"),n.append("g").attr("transform","translate(0,".concat(350,")")).call(v.b(r).ticks(v.u.every(1)).tickFormat(v.s("%B"))),n.append("g").attr("transform","translate(50,0)").call(v.c(l)),n.append("text").attr("x",400).attr("y",20).attr("text-anchor","middle").style("font-size","16px").style("font-weight","bold").text("Number of Patients per Month")},D=()=>{const t=v.t(new Date),a=v.v.ceil(new Date),n=v.i(e,e=>e.length,e=>v.r(new Date(e.date))),r=Array.from(n).filter(e=>e[0]>=t&&e[0]<=a).sort((e,t)=>e[0]-t[0]),l=v.o("#patientsPerDayChart").append("svg").attr("width","100%").attr("height",400).attr("viewBox","0 0 ".concat(800," ").concat(400)).attr("preserveAspectRatio","xMidYMid meet"),o=v.j().domain(r.map(e=>e[0])).range([50,750]).padding(.1),c=v.k().domain([0,v.g(r,e=>e[1])]).range([350,50]);l.selectAll(".bar").data(r).enter().append("rect").attr("class","bar").attr("x",e=>o(e[0])).attr("y",e=>c(e[1])).attr("width",o.bandwidth()).attr("height",e=>350-c(e[1])).attr("fill","blue"),l.append("g").attr("transform","translate(0,".concat(350,")")).call(v.b(o).ticks(v.r.every(1)).tickFormat(v.s("%A"))),l.append("g").attr("transform","translate(50,0)").call(v.c(c)),l.append("text").attr("x",400).attr("y",20).attr("text-anchor","middle").style("font-size","16px").style("font-weight","bold").text("Number of Patients per Day")};return r.a.createElement("div",{className:"dashboard"},r.a.createElement("nav",{className:"navbar"},r.a.createElement("h1",null,"Analytics Dashboard")),r.a.createElement("div",{className:"grid-container"},r.a.createElement("div",{className:"grid-item item1"},r.a.createElement("h2",null,"Monthly Revenue / Number of Patients"),r.a.createElement("div",{id:"monthlyRevenueChart"})),r.a.createElement("div",{className:"grid-item item2"},r.a.createElement("h2",null,"Revenue"),r.a.createElement("div",{className:"revenue-stats"},r.a.createElement("p",null,r.a.createElement("strong",null,"Daily Revenue:")," \u20b9",o),r.a.createElement("p",null,r.a.createElement("strong",null,"Monthly Revenue:")," \u20b9",a),r.a.createElement("p",null,r.a.createElement("strong",null,"Yearly Revenue:")," \u20b9",d))),r.a.createElement("div",{className:"grid-item item3"},r.a.createElement("h2",null,"Gender Distribution"),r.a.createElement("div",{id:"genderPieChart"})),r.a.createElement("div",{className:"grid-item item4"},r.a.createElement("h2",null,"Payment Mode Distribution"),r.a.createElement("div",{id:"paymentModePieChart"})),r.a.createElement("div",{className:"grid-item item5"},r.a.createElement("h2",null,"Top 3 Referred By"),r.a.createElement("div",{id:"topReferredByChart"})),r.a.createElement("div",{className:"grid-item item6"},r.a.createElement("h2",null,"Top 5 Addresses"),r.a.createElement("div",{id:"topAddressesChart"})),r.a.createElement("div",{className:"grid-item item7"},r.a.createElement("h2",null,"Age Distribution"),r.a.createElement("div",{id:"ageDistributionHistogram"})),r.a.createElement("div",{className:"grid-item item8"},r.a.createElement("h2",null,"Patients Chart"),r.a.createElement("div",null,r.a.createElement("select",{onChange:e=>{p(e.target.value)}},r.a.createElement("option",{value:"Month"},"Month"),r.a.createElement("option",{value:"Week"},"Week"))),r.a.createElement("div",{id:"patientsPerMonthChart",style:{display:"Month"===s?"block":"none"}}),r.a.createElement("div",{id:"patientsPerDayChart",style:{display:"Week"===s?"block":"none"}}))))};a(205);var E=()=>{const[e,t]=Object(n.useState)(""),a=Object(d.o)();return r.a.createElement("div",{className:"lock-screen"},r.a.createElement("h2",null,"Enter Password to Unlock"),r.a.createElement("input",{type:"password",value:e,onChange:e=>t(e.target.value)}),r.a.createElement("button",{onClick:()=>{"1111"===e?a("/"):alert("Incorrect password")}},"Unlock"))};const b=e=>{let{show:t,onClose:a,patient:l,onSave:o,onDelete:c}=e;const[d,i]=Object(n.useState)(l);if(Object(n.useEffect)(()=>{i(l)},[l]),!t)return null;const s=e=>{const{name:t,value:a}=e.target;i({...d,[t]:a})};return r.a.createElement("div",{className:"modal-overlay"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h2",null,"Edit Patient"),r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"text",name:"name",value:d.name,onChange:s,placeholder:"Name"}),r.a.createElement("input",{type:"number",name:"age",value:d.age,onChange:s,placeholder:"Age"})),r.a.createElement("div",{className:"form-row"},r.a.createElement("select",{name:"gender",value:d.gender,onChange:s},r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Other"},"Other")),r.a.createElement("input",{id:"address-input",type:"text",name:"address",value:d.address,onChange:s,placeholder:"Address"})),r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"text",name:"referredBy",value:d.referredBy,onChange:s,placeholder:"Referred By"})),r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"date",name:"date",value:d.date,onChange:s}),r.a.createElement("input",{type:"date",name:"validityDate",value:d.validityDate,onChange:s})),r.a.createElement("div",{className:"form-row"},r.a.createElement("select",{name:"paymentMode",value:d.paymentMode,onChange:s},r.a.createElement("option",{value:"cash"},"Cash"),r.a.createElement("option",{value:"upi"},"UPI"),r.a.createElement("option",{value:"card"},"Card")),r.a.createElement("input",{type:"number",name:"amount",value:d.amount,onChange:s,placeholder:"Amount (\u20b9)"})),r.a.createElement("div",{className:"form-row"},r.a.createElement("button",{onClick:()=>{o(d),a()}},"Save"),r.a.createElement("button",{id:"edit-delete",onClick:()=>{c(d.id),a()}},"Delete"),r.a.createElement("button",{onClick:a},"Cancel"))))};var f=()=>{const[e,t]=Object(n.useState)([]),[a,l]=Object(n.useState)({name:"",age:"",gender:"Male",address:"",referredBy:"",date:(new Date).toISOString().split("T")[0],validityDate:new Date(Date.now()+1296e6).toISOString().split("T")[0],paymentMode:"cash",amount:""}),[o,i]=Object(n.useState)(!1),[s,p]=Object(n.useState)({});Object(n.useEffect)(()=>{v()},[]),Object(n.useEffect)(()=>{l(e=>({...e,validityDate:new Date(new Date(e.date).getTime()+1296e6).toISOString().split("T")[0]}))},[a.date]);const v=async()=>{try{const a=Object(m.h)(Object(m.b)(u,"patients"),Object(m.g)("date","desc")),n=(await Object(m.e)(a)).docs.map(e=>({id:e.id,...e.data()}));t(n)}catch(e){console.error("Error fetching patients: ",e)}},f=e=>new Date(e).toISOString().split("T")[0],w=e=>{const t=new Date(e),a=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return"".concat(a,"-").concat(n,"-").concat(r)},x=r.a.useMemo(()=>[{Header:"Name",accessor:"name"},{Header:"Age",accessor:"age"},{Header:"Gender",accessor:"gender"},{Header:"Address",accessor:"address"},{Header:"Referred By",accessor:"referredBy"},{Header:"Date",accessor:"date",Cell:e=>{let{value:t}=e;return w(t)}},{Header:"Valid Until",accessor:"validityDate",Cell:e=>{let{value:t}=e;return w(t)}},{Header:"Payment Mode",accessor:"paymentMode"},{Header:"Amount",accessor:"amount"},{Header:"Actions",accessor:"actions",Cell:e=>{let{row:t}=e;return r.a.createElement("div",null,r.a.createElement("button",{onClick:()=>(e=>{const t='\n      <div style="padding-top: 100px; position: relative;">\n        <div style="position: absolute; left: 0; top: 100px;">\n          <strong>Referred By</strong> '.concat(e.referredBy,'\n        </div>\n        <div style="position: absolute; right: 0; top: 100px;">\n          <strong>Date</strong> ').concat(w(e.date)," <strong>Valid Until</strong> ").concat(w(e.validityDate),'\n        </div>\n        <div style="position: absolute; left: 0; top: 140px;">\n          <strong>Name</strong> ').concat(e.name,'\n        </div>\n        <div style="position: absolute; left: 0; top: 160px;">\n          <strong>Age</strong> ').concat(e.age,'\n        </div>\n        <div style="position: absolute; left: 40%; transform: translateX(-50%); top: 160px;">\n          <strong>Sex</strong> ').concat(e.gender,'\n        </div>\n        <div style="position: absolute; left: 70%; top: 160px;">\n          <strong>Address</strong> ').concat(e.address,"\n        </div>\n      </div>\n    "),a=document.body.innerHTML,n=document.title;document.body.innerHTML=t,document.title="Patient Details",window.print(),document.body.innerHTML=a,document.title=n,window.location.reload()})(t.original)},"Print Report"),r.a.createElement("button",{onClick:()=>(e=>{const t='\n      <div style="padding-top: 50px; text-align: center;">\n        <h2>Dr. Rajiv Sinha\'s Gastro Clinic (SAMAGAM)</h2>\n        <p>Beside Durga Bari, Raja SN Road, Masakchak, Manik Sarkar Chowk<br>Bhagalpur, Bihar 812001</p>\n        <h3>Receipt</h3>\n        <div style="text-align: left; padding-left: 20px;">\n          <p><strong>Patient Name:</strong> '.concat(e.name,"</p>\n          <p><strong>Date:</strong> ").concat(w(e.date),"</p>\n          <p><strong>Amount Paid:</strong> \u20b9").concat(e.amount,"</p>\n          <p><strong>Payment Mode:</strong> ").concat(e.paymentMode,"</p>\n          <p><strong>Referred By:</strong> ").concat(e.referredBy,'</p>\n        </div>\n        <div style="text-align: left; padding-left: 20px; padding-top: 50px;">\n          <p>___________________________</p>\n          <p>Signature</p>\n        </div>\n      </div>\n    '),a=document.body.innerHTML,n=document.title;document.body.innerHTML=t,document.title="Payment Receipt",window.print(),document.body.innerHTML=a,document.title=n,window.location.reload()})(t.original)},"Print Receipt"),r.a.createElement("button",{onClick:()=>(e=>{p(e),i(!0)})(t.original)},"Edit"))}}],[]),C=r.a.useMemo(()=>e,[e]),{getTableProps:M,getTableBodyProps:A,headerGroups:D,rows:S,prepareRow:N}=Object(g.useTable)({columns:x,data:C});return r.a.createElement(c.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/home"},"Home")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/search"},"Search Patients")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/dashboard"},"Analytics Dashboard")))),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/home",element:r.a.createElement("div",null,r.a.createElement("h1",null,"Clinic Management"),r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"text",placeholder:"Name",value:a.name,onChange:e=>l({...a,name:e.target.value})}),r.a.createElement("input",{type:"number",placeholder:"Age",value:a.age,onChange:e=>l({...a,age:e.target.value})})),r.a.createElement("div",{className:"form-row"},r.a.createElement("select",{value:a.gender,onChange:e=>l({...a,gender:e.target.value})},r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Other"},"Other")),r.a.createElement("input",{type:"text",placeholder:"Address",value:a.address,onChange:e=>l({...a,address:e.target.value})})),r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"text",placeholder:"Referred By",value:a.referredBy,onChange:e=>l({...a,referredBy:e.target.value})})),r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"date",value:a.date,onChange:e=>l({...a,date:e.target.value})}),r.a.createElement("input",{type:"date",value:a.validityDate,onChange:e=>l({...a,validityDate:e.target.value})})),r.a.createElement("div",{className:"form-row"},r.a.createElement("select",{value:a.paymentMode,onChange:e=>l({...a,paymentMode:e.target.value})},r.a.createElement("option",{value:"cash"},"Cash"),r.a.createElement("option",{value:"upi"},"UPI"),r.a.createElement("option",{value:"card"},"Card"))),r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"number",placeholder:"Amount (\u20b9)",value:a.amount,onChange:e=>l({...a,amount:e.target.value})})),r.a.createElement("button",{onClick:async()=>{if(a.name&&a.age&&a.gender&&a.address&&a.date&&a.validityDate&&a.paymentMode&&a.amount&&a.referredBy)try{await Object(m.a)(Object(m.b)(u,"patients"),{...a,date:f(a.date),validityDate:f(a.validityDate)}),l({name:"",age:"",gender:"Male",address:"",referredBy:"",date:(new Date).toISOString().split("T")[0],validityDate:new Date(Date.now()+1296e6).toISOString().split("T")[0],paymentMode:"cash",amount:""}),v()}catch(e){console.error("Error adding patient: ",e)}else alert("Please fill out all fields.")}},"Add Patient")),r.a.createElement("div",{className:"patient-list"},r.a.createElement("div",{className:"patient-header"},r.a.createElement("h2",null,"All Patients"),r.a.createElement("br",null),r.a.createElement("button",{id:"print-all-button",onClick:()=>{const t=f((new Date).toISOString().split("T")[0]),a=e.filter(e=>e.date===t);let n="\n      <div>\n        <h2>All Patients for ".concat(t,'</h2>\n        <table border="1" style="width:100%; border-collapse:collapse;">\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Age</th>\n              <th>Gender</th>\n              <th>Address</th>\n              <th>Referred By</th>\n              <th>Payment Mode</th>\n              <th>Amount</th>\n            </tr>\n          </thead>\n          <tbody>\n    ');a.forEach(e=>{n+="\n        <tr>\n          <td>".concat(e.name,"</td>\n          <td>").concat(e.age,"</td>\n          <td>").concat(e.gender,"</td>\n          <td>").concat(e.address,"</td>\n          <td>").concat(e.referredBy,"</td>\n          <td>").concat(e.paymentMode,"</td>\n          <td>\u20b9").concat(e.amount,"</td>\n        </tr>\n      ")}),n+="\n          </tbody>\n        </table>\n      </div>\n    ";const r=document.body.innerHTML,l=document.title;document.body.innerHTML=n,document.title="All Patients for Today",window.print(),document.body.innerHTML=r,document.title=l,window.location.reload()}},"Print All")),r.a.createElement("div",{className:"table-container",id:"patientTable"},r.a.createElement("table",Object.assign({},M(),{className:"table"}),r.a.createElement("thead",null,D.map(e=>r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map(e=>r.a.createElement("th",e.getHeaderProps(),e.render("Header")))))),r.a.createElement("tbody",A(),S.map(e=>(N(e),r.a.createElement("tr",e.getRowProps(),e.cells.map(e=>r.a.createElement("td",e.getCellProps(),e.render("Cell")))))))))),r.a.createElement(b,{show:o,onClose:()=>i(!1),patient:s,onSave:e=>{(async e=>{try{const a=Object(m.d)(u,"patients",e.id);await Object(m.i)(a,e),v()}catch(t){console.error("Error updating patient: ",t)}})(e),i(!1)},onDelete:async e=>{try{await Object(m.c)(Object(m.d)(u,"patients",e)),v()}catch(t){console.error("Error deleting patient: ",t)}}}))}),r.a.createElement(d.a,{path:"/search",element:r.a.createElement(h,{patients:e})}),r.a.createElement(d.a,{path:"/dashboard",element:r.a.createElement(y,null)}),r.a.createElement(d.a,{path:"/lock",element:r.a.createElement(E,null)}),r.a.createElement(d.a,{path:"/",element:r.a.createElement(E,null)})," ")))};var w=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,207)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:l,getTTFB:o}=t;a(e),n(e),r(e),l(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null))),w()}},[[188,1,2]]]);
//# sourceMappingURL=main.648b09b6.chunk.js.map